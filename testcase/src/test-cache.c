# include "trap.h"
# define N 8
int test_int[N] = {0, 1, 2, 0x7fffffff, 0x80000000, 0x80000001, 0xfffffffe, 0xffffffff};
int ans_int[N * N] = {0, 0x1, 0x2, 0x7fffffff, 0x80000000, 0x80000001, 0xfffffffe, 0xffffffff, 0x1, 0x2, 0x3, 0x80000000, 0x80000001, 0x80000002, 0xffffffff, 0, 0x2, 0x3, 0x4, 0x80000001, 0x80000002, 0x80000003, 0, 0x1, 0x7fffffff, 0x80000000, 0x80000001, 0xfffffffe, 0xffffffff, 0, 0x7ffffffd, 0x7ffffffe, 0x80000000, 0x80000001, 0x80000002, 0xffffffff, 0, 0x1, 0x7ffffffe, 0x7fffffff, 0x80000001, 0x80000002, 0x80000003, 0, 0x1, 0x2, 0x7fffffff, 0x80000000, 0xfffffffe, 0xffffffff, 0, 0x7ffffffd, 0x7ffffffe, 0x7fffffff, 0xfffffffc, 0xfffffffd, 0xffffffff, 0, 0x1, 0x7ffffffe, 0x7fffffff, 0x80000000, 0xfffffffd, 0xfffffffe};
short test_short[N] = {0, 1, 2, 0x7fff, 0x8000, 0x8001, 0xfffe, 0xffff};
short ans_short[N * N] = {0, 0x1, 0x2, 0x7fff, 0x8000, 0x8001, 0xfffe, 0xffff, 0x1, 0x2, 0x3, 0x8000, 0x8001, 0x8002, 0xffff, 0, 0x2, 0x3, 0x4, 0x8001, 0x8002, 0x8003, 0, 0x1, 0x7fff, 0x8000, 0x8001, 0xfffe, 0xffff, 0, 0x7ffd, 0x7ffe, 0x8000, 0x8001, 0x8002, 0xffff, 0, 0x1, 0x7ffe, 0x7fff, 0x8001, 0x8002, 0x8003, 0, 0x1, 0x2, 0x7fff, 0x8000, 0xfffe, 0xffff, 0, 0x7ffd, 0x7ffe, 0x7fff, 0xfffc, 0xfffd, 0xffff, 0, 0x1, 0x7ffe, 0x7fff, 0x8000, 0xfffd, 0xfffe};
char test_char[N] = {0, 1, 2, 0x7f, 0x80, 0x81, 0xfe, 0xff};
char ans_char[N * N] = {0, 0x1, 0x2, 0x7f, 0x80, 0x81, 0xfe, 0xff, 0x1, 0x2, 0x3, 0x80, 0x81, 0x82, 0xff, 0, 0x2, 0x3, 0x4, 0x81, 0x82, 0x83, 0, 0x1, 0x7f, 0x80, 0x81, 0xfe, 0xff, 0, 0x7d, 0x7e, 0x80, 0x81, 0x82, 0xff, 0, 0x1, 0x7e, 0x7f, 0x81, 0x82, 0x83, 0, 0x1, 0x2, 0x7f, 0x80, 0xfe, 0xff, 0, 0x7d, 0x7e, 0x7f, 0xfc, 0xfd, 0xff, 0, 0x1, 0x7e, 0x7f, 0x80, 0xfd, 0xfe};

struct ans_struct{
	char c;
	short s;
	int i;
}__attribute__ ((packed));



int main(){
	int i, j, ans_idx = 0;
	struct ans_struct ans[N * N];
	for(i = 0; i < N; i++){
		for(j = 0; j < N; j++){
			ans[ans_idx].c = test_char[i] + test_char[j];
			ans[ans_idx].s = test_short[i] + test_short[j];
			ans[ans_idx].i = test_int[i] + test_int[j];
			nemu_assert(ans[ans_idx].c == ans_char[ans_idx]);
			nemu_assert(ans[ans_idx].s == ans_short[ans_idx]);
			nemu_assert(ans[ans_idx].i == ans_int[ans_idx]);
			ans_idx++;
		}
	}
	nemu_assert(ans_idx == N * N);
	nemu_assert(i == N);
	nemu_assert(j == N);
	HIT_GOOD_TRAP;
	return 0;
}